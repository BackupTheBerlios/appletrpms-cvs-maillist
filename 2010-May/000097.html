<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Appletrpms-cvs] CVS: afterapps-specs/SOURCES wmradio-0.9-Makefile.in.patch, NONE, 1.1 wmradio-setup-README, NONE, 1.1  trayer-1.0-Makefile.common.patch, 1.1, 1.2  wmcalendar-0.5.2-exit-sin-and-cos.patch, 1.1, 1.2  yudit-2.9.2.patch0.txt, 1.1, 1.2 wmradio-rpm-README, 1.1, NONE
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/appletrpms-cvs/2010-May/index.html" >
   <LINK REL="made" HREF="mailto:appletrpms-cvs%40lists.berlios.de?Subject=Re%3A%20%5BAppletrpms-cvs%5D%20CVS%3A%20afterapps-specs/SOURCES%0A%20wmradio-0.9-Makefile.in.patch%2C%20NONE%2C%201.1%20wmradio-setup-README%2C%20NONE%2C%0A%201.1%20%20trayer-1.0-Makefile.common.patch%2C%201.1%2C%0A%201.2%20%20wmcalendar-0.5.2-exit-sin-and-cos.patch%2C%201.1%2C%0A%201.2%20%20yudit-2.9.2.patch0.txt%2C%201.1%2C%201.2%20wmradio-rpm-README%2C%201.1%2C%20NONE&In-Reply-To=%3C4C028CE1.mailN3S1N4T7A%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000096.html">
   <LINK REL="Next"  HREF="000098.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Appletrpms-cvs] CVS: afterapps-specs/SOURCES wmradio-0.9-Makefile.in.patch, NONE, 1.1 wmradio-setup-README, NONE, 1.1  trayer-1.0-Makefile.common.patch, 1.1, 1.2  wmcalendar-0.5.2-exit-sin-and-cos.patch, 1.1, 1.2  yudit-2.9.2.patch0.txt, 1.1, 1.2 wmradio-rpm-README, 1.1, NONE</H1>
    <B>rpm_speedy at BerliOS</B> 
    <A HREF="mailto:appletrpms-cvs%40lists.berlios.de?Subject=Re%3A%20%5BAppletrpms-cvs%5D%20CVS%3A%20afterapps-specs/SOURCES%0A%20wmradio-0.9-Makefile.in.patch%2C%20NONE%2C%201.1%20wmradio-setup-README%2C%20NONE%2C%0A%201.1%20%20trayer-1.0-Makefile.common.patch%2C%201.1%2C%0A%201.2%20%20wmcalendar-0.5.2-exit-sin-and-cos.patch%2C%201.1%2C%0A%201.2%20%20yudit-2.9.2.patch0.txt%2C%201.1%2C%201.2%20wmradio-rpm-README%2C%201.1%2C%20NONE&In-Reply-To=%3C4C028CE1.mailN3S1N4T7A%40sheep.berlios.de%3E"
       TITLE="[Appletrpms-cvs] CVS: afterapps-specs/SOURCES wmradio-0.9-Makefile.in.patch, NONE, 1.1 wmradio-setup-README, NONE, 1.1  trayer-1.0-Makefile.common.patch, 1.1, 1.2  wmcalendar-0.5.2-exit-sin-and-cos.patch, 1.1, 1.2  yudit-2.9.2.patch0.txt, 1.1, 1.2 wmradio-rpm-README, 1.1, NONE">rpm_speedy at mail.berlios.de
       </A><BR>
    <I>Sun May 30 18:05:53 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000096.html">[Appletrpms-cvs] CVS: afterapps-specs/SPECS eina.spec, NONE,	1.1 calcoo.spec, 1.1, 1.2 fotoxx.spec, 1.14, 1.15 medit.spec,	1.6, 1.7 trayer.spec, 1.4, 1.5 wmcalendar.spec, 1.19,	1.20 wmchargemon.spec, 1.6, 1.7 wmradio.spec, 1.11,	1.12 wmweather+.spec, 1.14, 1.15
</A></li>
        <LI>Next message: <A HREF="000098.html">[Appletrpms-cvs] CVS: afterapps-specs/include misc-apps.inc, 1.33, 1.34  wm-apps.inc, 1.56, 1.57
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#97">[ date ]</a>
              <a href="thread.html#97">[ thread ]</a>
              <a href="subject.html#97">[ subject ]</a>
              <a href="author.html#97">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Update of /cvsroot/appletrpms/afterapps-specs/SOURCES
In directory sheep:/tmp/cvs-serv29782/SOURCES

Modified Files:
	trayer-1.0-Makefile.common.patch 
	wmcalendar-0.5.2-exit-sin-and-cos.patch yudit-2.9.2.patch0.txt 
Added Files:
	wmradio-0.9-Makefile.in.patch wmradio-setup-README 
Removed Files:
	wmradio-rpm-README 
Log Message:
fixes for build under F13


--- NEW FILE: wmradio-0.9-Makefile.in.patch ---
--- Makefile.in	2005-05-06 10:02:31.000000000 -0500
+++ Makefile.in	2010-05-29 08:53:48.000000000 -0500
@@ -1,9 +1,11 @@
 PREFIX=@prefix@
-BINDIR=$(PREFIX)/bin/
-LIBDIR=$(PREFIX)/lib/wmradio/
-MANDIR=$(PREFIX)/man/man1/
+BINDIR=$(PREFIX)/bin
+LIBDIR=@libdir@
+SKNDIR=$(LIBDIR)/wmradio
+DATADIR=$(PREFIX)/share
+MANDIR=$(DATADIR)/man/man1
 
-TARGETS=@TARGETS@
+TARGETS=wmradio xwmradio
 
 CC=@CC@
 
@@ -16,7 +18,7 @@
 PANEL_CFLAGS=-DGNOME_RADIO @PANEL_CFLAGS@
 PANEL_LIBS=@PANEL_LIBS@
 
-EXTRA_CFLAGS=-Wall -D SKIN_DIR=\&quot;$(LIBDIR)\&quot;
+EXTRA_CFLAGS=-Wall -D SKIN_DIR=\&quot;$(SKNDIR)\&quot;
 
 BASESOURCE=skin.c \
            radio.c \
@@ -60,26 +62,26 @@
 	/bin/rm -f xor $(TARGETS) *~ *.o
 
 install: wmradio
-	install -m 755 -d $(RPM_BUILD_ROOT)$(BINDIR)
-	install -m 755 -d $(RPM_BUILD_ROOT)$(MANDIR)
-	install -m 755 wmradio $(RPM_BUILD_ROOT)$(BINDIR)
-	install -m 755 xwmradio $(RPM_BUILD_ROOT)$(BINDIR)
-	install -m 755 wmradio-remote $(RPM_BUILD_ROOT)$(BINDIR)
-	install -m 755 config/wmradio-config.py $(RPM_BUILD_ROOT)$(BINDIR)
-	install -m 644 doc/wmradio.1 $(RPM_BUILD_ROOT)$(MANDIR)
-	install -m 755 -d $(RPM_BUILD_ROOT)`pkg-config gnome-desktop-2.0 --variable=prefix`/share/applications
-	install -m 755 -d $(RPM_BUILD_ROOT)`pkg-config gnome-desktop-2.0 --variable=prefix`/share/pixmaps
-	install -m 644 misc/wmradio.png $(RPM_BUILD_ROOT)`pkg-config gnome-desktop-2.0 --variable=prefix`/share/pixmaps/
-	install -m 644 misc/wmradio.desktop $(RPM_BUILD_ROOT)`pkg-config gnome-desktop-2.0 --variable=prefix`/share/applications/
-	install -m 644 misc/wmradio-config.desktop $(RPM_BUILD_ROOT)`pkg-config gnome-desktop-2.0 --variable=prefix`/share/applications/
+	install -m 755 -d $(DESTDIR)$(BINDIR)
+	install -m 755 -d $(DESTDIR)$(MANDIR)
+	install -m 755 wmradio $(DESTDIR)$(BINDIR)
+	install -m 755 xwmradio $(DESTDIR)$(BINDIR)
+	install -m 755 wmradio-remote $(DESTDIR)$(BINDIR)
+	install -m 755 config/wmradio-config.py $(DESTDIR)$(BINDIR)
+	install -m 644 doc/wmradio.1 $(DESTDIR)$(MANDIR)
+	install -m 755 -d $(DESTDIR)$(DATADIR)/applications
+	install -m 755 -d $(DESTDIR)$(DATADIR)/pixmaps
+	install -m 644 misc/wmradio.png $(DESTDIR)$(DATADIR)/pixmaps/
+	install -m 644 misc/wmradio.desktop $(DESTDIR)$(DATADIR)/applications/
+	install -m 644 misc/wmradio-config.desktop $(DESTDIR)$(DATADIR)/applications/
 
 ginstall: gwmradio
-	install -d $(RPM_BUILD_ROOT)`gnome-config --prefix`/share/applets/Multimedia
-	install -d $(RPM_BUILD_ROOT)`gnome-config --sysconfdir`/CORBA/servers
-	install -m 755 gwmradio $(RPM_BUILD_ROOT)$(BINDIR)
-	install -m 644 gwmradio.desktop $(RPM_BUILD_ROOT)`gnome-config --prefix`/share/applets/Multimedia/
-	install -m 644 gwmradio.gnorba $(RPM_BUILD_ROOT)`gnome-config --sysconfdir`/CORBA/servers/
+	install -d $(DESTDIR)$(DATADIR)/applets/Multimedia
+	install -d $(DESTDIR)`gnome-config --sysconfdir`/CORBA/servers
+	install -m 755 gwmradio $(DESTDIR)$(BINDIR)
+	install -m 644 gwmradio.desktop $(DESTDIR)$(DATADIR)/applets/Multimedia/
+	install -m 644 gwmradio.gnorba $(DESTDIR)`gnome-config --sysconfdir`/CORBA/servers/
 
 install-skins:
-	install -m 755 -d $(RPM_BUILD_ROOT)$(LIBDIR)
-	install -m 644 $(SKINFILES) $(RPM_BUILD_ROOT)$(LIBDIR)
+	install -m 755 -d $(DESTDIR)$(SKNDIR)
+	install -m 644 $(SKINFILES) $(DESTDIR)$(SKNDIR)

--- NEW FILE: wmradio-setup-README ---
After installing the wmradio package, use the following to
get the program running:

As user, run the configuration program:

	wmradio-config.py
	

Using the GUI, add the device, up to six preset stations
and their names, and the default skin.

Launch wmradio using:

	wmradio
	
	or
	
	wmradio -k skinfile.skin  (Ex: startrek.skin)

Add wmradio to the Dock or Wharf.  For the AfterStep Wharf,
add the following line:

	*MonitorWharf wmradio - Swallow &quot;WmRadio&quot; wmradio &amp;
	
the -k option can also be used within the Wharf.

Index: trayer-1.0-Makefile.common.patch
===================================================================
RCS file: /cvsroot/appletrpms/afterapps-specs/SOURCES/trayer-1.0-Makefile.common.patch,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -r1.1 -r1.2
--- trayer-1.0-Makefile.common.patch	9 Nov 2007 16:15:08 -0000	1.1
+++ trayer-1.0-Makefile.common.patch	30 May 2010 16:05:51 -0000	1.2
@@ -1,5 +1,14 @@
 --- Makefile.common	2004-06-02 01:15:37.000000000 -0500
-+++ Makefile.common	2007-11-08 23:23:20.000000000 -0600
++++ Makefile.common	2010-05-28 13:00:11.000000000 -0500
+@@ -16,7 +16,7 @@
+ endif
+ 
+ CC = gcc
+-LIBS = $(shell pkg-config --libs gtk+-2.0 gdk-pixbuf-2.0 gdk-pixbuf-xlib-2.0) -L/usr/X11R6/lib  -lXmu
++LIBS = $(shell pkg-config --libs gtk+-2.0 gdk-pixbuf-2.0 gdk-pixbuf-xlib-2.0) -L/usr/lib -L/usr/lib64/ -lX11 -lXmu
+ INCS = $(shell pkg-config --cflags gtk+-2.0 gdk-pixbuf-2.0 gdk-pixbuf-xlib-2.0)
+ CFLAGS = -O2    # overwriten by command line or env. variable
+ CFLAGS += -Wall # always nice to have 
 @@ -25,7 +25,7 @@
  endif
  

Index: wmcalendar-0.5.2-exit-sin-and-cos.patch
===================================================================
RCS file: /cvsroot/appletrpms/afterapps-specs/SOURCES/wmcalendar-0.5.2-exit-sin-and-cos.patch,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -r1.1 -r1.2
--- wmcalendar-0.5.2-exit-sin-and-cos.patch	13 Sep 2009 18:53:35 -0000	1.1
+++ wmcalendar-0.5.2-exit-sin-and-cos.patch	30 May 2010 16:05:51 -0000	1.2
@@ -41,7 +41,7 @@
  
  # for Linux
 -LIBS   = $(LIBDIR) -lXpm -lical -lpthread
-+LIBS   = -lXpm -lical -lpthread `pkg-config --libs gtk+-2.0`
++LIBS   = -lXext -lXpm -lm -lX11 -lical -lpthread `pkg-config --libs gtk+-2.0`
  # for Solaris (untested!!!)
  # LIBS   = -lXpm -lX11 -lXext -lsocket -lnsl -lical
  

Index: yudit-2.9.2.patch0.txt
===================================================================
RCS file: /cvsroot/appletrpms/afterapps-specs/SOURCES/yudit-2.9.2.patch0.txt,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -r1.1 -r1.2
--- yudit-2.9.2.patch0.txt	4 Apr 2010 19:47:02 -0000	1.1
+++ yudit-2.9.2.patch0.txt	30 May 2010 16:05:51 -0000	1.2
@@ -1,15 +1,10 @@
-This patch fixes segmentation fault when hunspell is used on an expaning line.
-
-Gaspar Sinai &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/appletrpms-cvs">gsinai at yudit.org</A>&gt;
-Tokyo 2010-02-15
-
-*** stoolkit/syntax/SSyntax.cpp	2007-12-09 16:43:25.000000000 +0900
---- stoolkit/syntax/SSyntax.cpp	2010-02-15 19:40:10.984291072 +0900
-***************
-*** 228,231 ****
---- 228,232 ----
-    }
-    if (i==max) return SD_ERROR;
-+   if (syntaxLines[index.line]-&gt;size()&lt;=i) return SD_ERROR;
-    return (SS_Tag) (syntaxLines[index.line]-&gt;peek (i) &amp; 0xff);
-  }
+--- stoolkit/syntax/SSyntax.cpp	2007-12-09 01:43:25.000000000 -0600
++++ stoolkit/syntax/SSyntax.cpp	2010-05-20 16:04:43.000000000 -0500
+@@ -227,6 +227,7 @@
+     }
+   }
+   if (i==max) return SD_ERROR;
++  if (syntaxLines[index.line]-&gt;size()&lt;=i) return SD_ERROR;
+   return (SS_Tag) (syntaxLines[index.line]-&gt;peek (i) &amp; 0xff);
+ }
+ 

--- wmradio-rpm-README DELETED ---


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000096.html">[Appletrpms-cvs] CVS: afterapps-specs/SPECS eina.spec, NONE,	1.1 calcoo.spec, 1.1, 1.2 fotoxx.spec, 1.14, 1.15 medit.spec,	1.6, 1.7 trayer.spec, 1.4, 1.5 wmcalendar.spec, 1.19,	1.20 wmchargemon.spec, 1.6, 1.7 wmradio.spec, 1.11,	1.12 wmweather+.spec, 1.14, 1.15
</A></li>
	<LI>Next message: <A HREF="000098.html">[Appletrpms-cvs] CVS: afterapps-specs/include misc-apps.inc, 1.33, 1.34  wm-apps.inc, 1.56, 1.57
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#97">[ date ]</a>
              <a href="thread.html#97">[ thread ]</a>
              <a href="subject.html#97">[ subject ]</a>
              <a href="author.html#97">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/appletrpms-cvs">More information about the Appletrpms-cvs
mailing list</a><br>
</body></html>
